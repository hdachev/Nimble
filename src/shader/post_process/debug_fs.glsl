// ------------------------------------------------------------------
// INPUT VARIABLES  -------------------------------------------------
// ------------------------------------------------------------------

in vec2 FS_IN_TexCoord;

// ------------------------------------------------------------------
// OUTPUT VARIABLES  ------------------------------------------------
// ------------------------------------------------------------------

out vec4 FS_OUT_Color;

// ------------------------------------------------------------------
// UNIFORMS  --------------------------------------------------------
// ------------------------------------------------------------------

uniform sampler2D s_Texture;
uniform vec4 u_Mask;

// ------------------------------------------------------------------
// MAIN  ------------------------------------------------------------
// ------------------------------------------------------------------

void main(void)
{
    vec4 color = texture(s_Texture, FS_IN_TexCoord);

    if (u_Mask.x == 1.0 && u_Mask.y == 0.0 && u_Mask.z == 0.0 && u_Mask.w == 0.0)
        FS_OUT_Color = vec4(color.x, color.x, color.x, 1.0);
    else if (u_Mask.x == 0.0 && u_Mask.y == 1.0 && u_Mask.z == 0.0 && u_Mask.w == 0.0)
        FS_OUT_Color = vec4(color.y, color.y, color.y, 1.0);
    else if (u_Mask.x == 0.0 && u_Mask.y == 0.0 && u_Mask.z == 1.0 && u_Mask.w == 0.0)
        FS_OUT_Color = vec4(color.z, color.z, color.z, 1.0);
    else if (u_Mask.x == 0.0 && u_Mask.y == 0.0 && u_Mask.z == 0.0 && u_Mask.w == 1.0)
        FS_OUT_Color = vec4(color.w, color.w, color.w, 1.0);
    else
        FS_OUT_Color = color * u_Mask;
}

// ------------------------------------------------------------------